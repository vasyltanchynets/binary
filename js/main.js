"use strict";$(document).ready(function(){function s(t){if(t.addClass("err"),t.parent().addClass("err"),t.parent().find(".form__error").remove(),t.hasClass("email")){var a="";null!=(a=(""==t.val()||(t.val(),t.attr("data-value")),t.data("error")))&&t.parent().append('<div class="form__error">'+a+"</div>")}else null!=t.data("error")&&0==t.parent().find(".form__error").length&&t.parent().append('<div class="form__error">'+t.data("error")+"</div>");0<t.parents(".select-block").length&&(t.parents(".select-block").parent().addClass("err"),t.parents(".select-block").find(".select").addClass("err"))}function i(t){t.removeClass("err"),t.parent().removeClass("err"),t.parent().find(".form__error").remove(),0<t.parents(".select-block").length&&(t.parents(".select-block").parent().removeClass("err"),t.parents(".select-block").find(".select").removeClass("err").removeClass("active"))}$(window).outerWidth(),$(window).outerHeight();var t=window.navigator.userAgent,a=(t.indexOf("MSIE "),{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return a.Android()||a.BlackBerry()||a.iOS()||a.Opera()||a.Windows()}});(-1<(t=navigator.userAgent).indexOf("MSIE ")||-1<t.indexOf("Trident/"))&&$("body").addClass("ie"),a.any()&&$("body").addClass("touch"),$.each($(".ibg"),function(t,a){0<$(this).find("img").length&&$(this).css("background-image",'url("'+$(this).find("img").attr("src")+'")')}),0<$(".gallery").length&&baguetteBox.run(".gallery",{}),$(document).ready(function(t){$(".gallery").click(function(t){$("body").addClass("lock")}),$("#baguetteBox-slider,#close-button").click(function(t){$("body").removeClass("lock")})}),$(".filter__item").click(function(t){var a=$(this).data("filter");return 1==a?$(".portfolio__column").show():($(".portfolio__column").hide(),$(".portfolio__column.f_"+a).show()),$(".filter__item").removeClass("active"),$(this).addClass("active"),!1}),$(".goto").click(function(){var t=$(this).attr("href").replace("#","");$("body,html").animate({scrollTop:$("."+t).offset().top+0},500,function(){})});var n=document.querySelectorAll("._anim-items");if(0<n.length){var e=function(){for(var t=0;t<n.length;t++){var a=n[t],e=a.offsetHeight,r=l(a).top,s=window.innerHeight-e/4;e>window.innerHeight&&(s=window.innerHeight-window.innerHeight/4),pageYOffset>r-s&&pageYOffset<r+e?a.classList.add("_active"):a.classList.contains("_anim-no-hide")||a.classList.remove("_active")}},l=function(t){var a=t.getBoundingClientRect(),e=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:a.top+r,left:a.left+e}};window.addEventListener("scroll",e),setTimeout(function(){e()},300)}$("input,textarea").focus(function(){$(this).val()==$(this).attr("data-value")&&($(this).addClass("focus"),$(this).parent().addClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","password"),$(this).val("")),i($(this))}),$("input[data-value], textarea[data-value]").each(function(){""!=this.value&&this.value!=$(this).attr("data-value")||(this.value=$(this).attr("data-value"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),this.value!=$(this).attr("data-value")&&""!=this.value&&($(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),$(this).click(function(){this.value==$(this).attr("data-value")&&("pass"==$(this).attr("data-type")&&$(this).attr("type","password"),this.value="")}),$(this).blur(function(){""==this.value&&(this.value=$(this).attr("data-value"),$(this).removeClass("focus"),$(this).parent().removeClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","text"))})}),$("form button[type=submit]").click(function(){var e=0,t=$(this).parents("form"),a=t.data("ms");return $.each(t.find(".req"),function(t,a){e+=function(t){var a=0,e=t.parents("form");if("email"==t.attr("name")||t.hasClass("email")){if(t.val()!=t.attr("data-value")){var r=t.val().replace(" ","");t.val(r)}/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(t.val())&&t.val()!=t.attr("data-value")?i(t):(a++,s(t))}else""==t.val()||t.val()==t.attr("data-value")?(a++,s(t)):i(t);return"checkbox"==t.attr("type")&&(1==t.prop("checked")?t.removeClass("err").parent().removeClass("err"):(a++,t.addClass("err").parent().addClass("err"))),t.hasClass("name")&&(/^[А-Яа-яa-zA-Z-]+( [А-Яа-яa-zA-Z-]+)$/.test(t.val())||(a++,s(t))),t.hasClass("pass-2")&&(e.find(".pass-1").val()!=e.find(".pass-2").val()?s(t):i(t)),a}($(this))}),0==e&&(t.find(".form__generalerror").hide().html(""),null!=a&&""!=a?(showMessageByClass(a),!1):void 0)})});